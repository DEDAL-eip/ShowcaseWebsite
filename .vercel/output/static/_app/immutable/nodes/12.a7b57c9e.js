import{S as ne,i as ie,s as ce,e as ee,b as q,K as J,g as F,v as ue,d as K,f as fe,h as u,C as he,k as v,q as S,a as $,l as g,m as _,r as O,c as z,n as c,D as i,E as _e,F as pe,G as ve,y as ge,L as me,z as be,J as we,O as Ee,P as te,A as ye,Q as ke,B as De,T as xe,u as Te,R as Ve,w as Ie,M as le,N as ae,H as Le}from"../chunks/index.a5951acf.js";const Pe=async({fetch:n})=>{const e=await(await n("/api/apkVersions")).json();var t=[];return e.data.map(d=>{t.push(d.slice(19,-4))}),t.sort().reverse(),{versions:t}},je=Object.freeze(Object.defineProperty({__proto__:null,load:Pe},Symbol.toStringTag,{value:"Module"}));function se(n){let s,e,t,d,l,a,o,p;const y=n[4].default,r=he(y,n,n[3],null);return{c(){s=v("div"),e=v("div"),t=v("span"),d=S("×"),l=$(),r&&r.c(),this.h()},l(f){s=g(f,"DIV",{class:!0});var k=_(s);e=g(k,"DIV",{class:!0});var x=_(e);t=g(x,"SPAN",{class:!0});var m=_(t);d=O(m,"×"),m.forEach(u),l=z(x),r&&r.l(x),x.forEach(u),k.forEach(u),this.h()},h(){c(t,"class","close svelte-gfwgh5"),c(e,"class","modal svelte-gfwgh5"),c(s,"class","modal-wrapper svelte-gfwgh5")},m(f,k){q(f,s,k),i(s,e),i(e,t),i(t,d),i(e,l),r&&r.m(e,null),a=!0,o||(p=J(t,"click",n[6]),o=!0)},p(f,k){r&&r.p&&(!a||k&8)&&_e(r,y,f,f[3],a?ve(y,f[3],k,null):pe(f[3]),null)},i(f){a||(F(r,f),a=!0)},o(f){K(r,f),a=!1},d(f){f&&u(s),r&&r.d(f),o=!1,p()}}}function $e(n){let s,e,t,d,l=n[1]&&se(n);return{c(){l&&l.c(),s=ee()},l(a){l&&l.l(a),s=ee()},m(a,o){l&&l.m(a,o),q(a,s,o),e=!0,t||(d=J(window,"keydown",n[5]),t=!0)},p(a,[o]){a[1]?l?(l.p(a,o),o&2&&F(l,1)):(l=se(a),l.c(),F(l,1),l.m(s.parentNode,s)):l&&(ue(),K(l,1,1,()=>{l=null}),fe())},i(a){e||(F(l),e=!0)},o(a){K(l),e=!1},d(a){l&&l.d(a),a&&u(s),t=!1,d()}}}function ze(n,s,e){let{$$slots:t={},$$scope:d}=s,l=!1;function a(){e(1,l=!0)}function o(){e(1,l=!1)}const p=r=>{r.keyCode==27&&o()},y=()=>o();return n.$$set=r=>{"$$scope"in r&&e(3,d=r.$$scope)},[o,l,a,d,t,p,y]}class Ae extends ne{constructor(s){super(),ie(this,s,ze,$e,ce,{show:2,hide:0})}get show(){return this.$$.ctx[2]}get hide(){return this.$$.ctx[0]}}function re(n,s,e){const t=n.slice();return t[7]=s[e],t[9]=e,t}function oe(n){let s,e,t=n[7]+"",d,l;return{c(){s=S(`}
                    `),e=v("option"),d=S(t),this.h()},l(a){s=O(a,`}
                    `),e=g(a,"OPTION",{});var o=_(e);d=O(o,t),o.forEach(u),this.h()},h(){e.__value=l=n[7],e.value=e.__value,e.selected=n[9]==0},m(a,o){q(a,s,o),q(a,e,o),i(e,d)},p(a,o){o&2&&t!==(t=a[7]+"")&&Te(d,t),o&2&&l!==(l=a[7])&&(e.__value=l,e.value=e.__value)},d(a){a&&u(s),a&&u(e)}}}function Me(n){let s,e,t,d,l,a,o,p,y,r,f,k,x,m,w,B,V;return{c(){s=v("div"),e=v("div"),t=v("h3"),d=S("Merci d'avoir téléchargé DEDAL"),l=$(),a=v("button"),o=le("svg"),p=le("path"),y=$(),r=v("div"),f=v("p"),k=S("Ça veut vraiment dire beaucoup pour nous"),x=$(),m=v("p"),w=S("Vous allez être redirigé à la page d'accueil bientôt"),this.h()},l(D){s=g(D,"DIV",{class:!0});var I=_(s);e=g(I,"DIV",{class:!0});var A=_(e);t=g(A,"H3",{class:!0});var G=_(t);d=O(G,"Merci d'avoir téléchargé DEDAL"),G.forEach(u),l=z(A),a=g(A,"BUTTON",{type:!0,class:!0});var T=_(a);o=ae(T,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var N=_(o);p=ae(N,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(p).forEach(u),N.forEach(u),T.forEach(u),A.forEach(u),y=z(I),r=g(I,"DIV",{class:!0});var j=_(r);f=g(j,"P",{class:!0});var U=_(f);k=O(U,"Ça veut vraiment dire beaucoup pour nous"),U.forEach(u),x=z(j),m=g(j,"P",{class:!0});var M=_(m);w=O(M,"Vous allez être redirigé à la page d'accueil bientôt"),M.forEach(u),j.forEach(u),I.forEach(u),this.h()},h(){c(t,"class","text-xl font-semibold text-gray-900 dark:text-white"),c(p,"fill-rule","evenodd"),c(p,"d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"),c(p,"clip-rule","evenodd"),c(o,"class","w-5 h-5"),c(o,"fill","currentColor"),c(o,"viewBox","0 0 20 20"),c(o,"xmlns","http://www.w3.org/2000/svg"),c(a,"type","button"),c(a,"class","text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white"),c(e,"class","flex justify-between items-start p-4 rounded-t border-b dark:border-gray-600"),c(f,"class","text-base leading-relaxed text-gray-500 dark:text-gray-400"),c(m,"class","text-base leading-relaxed text-gray-500 dark:text-gray-400"),c(r,"class","p-6 space-y-6"),c(s,"class","relative bg-white rounded-lg shadow dark:bg-gray-700")},m(D,I){q(D,s,I),i(s,e),i(e,t),i(t,d),i(e,l),i(e,a),i(a,o),i(o,p),i(s,y),i(s,r),i(r,f),i(f,k),i(r,x),i(r,m),i(m,w),B||(V=J(a,"click",n[5]),B=!0)},p:Le,d(D){D&&u(s),B=!1,V()}}}function Se(n){let s,e,t,d,l,a,o,p,y,r,f,k,x,m,w,B,V,D,I,A,G,T,N,j,U,M=n[1],E=[];for(let h=0;h<M.length;h+=1)E[h]=oe(re(n,M,h));let de={$$slots:{default:[Me]},$$scope:{ctx:n}};return T=new Ae({props:de}),n[6](T),{c(){s=$(),e=v("div"),t=v("div"),d=v("div"),l=v("img"),o=$(),p=v("p"),y=S("Télécharger DEDAL"),r=$(),f=v("p"),k=S("Emmenez votre guide du routard 2.0 sur votre appareil."),x=$(),m=v("div"),w=v("select");for(let h=0;h<E.length;h+=1)E[h].c();B=$(),V=v("a"),D=v("button"),I=S("Télécharger"),G=$(),ge(T.$$.fragment),this.h()},l(h){me("svelte-1higzrm",document.head).forEach(u),s=z(h),e=g(h,"DIV",{class:!0});var P=_(e);t=g(P,"DIV",{class:!0});var b=_(t);d=g(b,"DIV",{});var C=_(d);l=g(C,"IMG",{src:!0,class:!0,alt:!0}),o=z(C),p=g(C,"P",{class:!0});var R=_(p);y=O(R,"Télécharger DEDAL"),R.forEach(u),C.forEach(u),r=z(b),f=g(b,"P",{class:!0});var W=_(f);k=O(W,"Emmenez votre guide du routard 2.0 sur votre appareil."),W.forEach(u),x=z(b),m=g(b,"DIV",{class:!0});var H=_(m);w=g(H,"SELECT",{id:!0,class:!0,"aria-label":!0});var X=_(w);for(let Q=0;Q<E.length;Q+=1)E[Q].l(X);X.forEach(u),B=z(H),V=g(H,"A",{href:!0,download:!0});var Y=_(V);D=g(Y,"BUTTON",{class:!0,type:!0});var Z=_(D);I=O(Z,"Télécharger"),Z.forEach(u),Y.forEach(u),G=z(H),be(T.$$.fragment,H),H.forEach(u),b.forEach(u),P.forEach(u),this.h()},h(){document.title="DEDAL: Téléchargement",we(l.src,a="/Smartphone_logo.png")||c(l,"src",a),c(l,"class","m-auto"),c(l,"alt","Smartphone_logo"),c(p,"class","text-6xl text-white font-bold"),c(f,"class","text-2xl text-white tracking-widest"),c(w,"id","version_select"),c(w,"class","form-select text-center font-bold appearance-none block px-3 py-1.5 text-white bg-secondary rounded-lg shadow-lg transition ease-in-out m-0"),c(w,"aria-label","Default select example"),n[0]===void 0&&Ee(()=>n[3].call(w)),c(D,"class","btn font-bold text-white py-5 px-12 rounded-lg shadow-lg bg-secondary"),c(D,"type","button"),c(V,"href",A="http://localhost:8080/download_apk?version="+n[0]),c(V,"download",""),c(m,"class","flex justify-center"),c(t,"class","m-auto text-center space-y-10"),c(e,"class","flex min-h-screen bg-primary bg-gradient-to-tl from-secondary")},m(h,L){q(h,s,L),q(h,e,L),i(e,t),i(t,d),i(d,l),i(d,o),i(d,p),i(p,y),i(t,r),i(t,f),i(f,k),i(t,x),i(t,m),i(m,w);for(let P=0;P<E.length;P+=1)E[P]&&E[P].m(w,null);te(w,n[0],!0),i(m,B),i(m,V),i(V,D),i(D,I),i(m,G),ye(T,m,null),N=!0,j||(U=[J(w,"change",n[3]),J(D,"click",n[4])],j=!0)},p(h,[L]){if(L&2){M=h[1];let b;for(b=0;b<M.length;b+=1){const C=re(h,M,b);E[b]?E[b].p(C,L):(E[b]=oe(C),E[b].c(),E[b].m(w,null))}for(;b<E.length;b+=1)E[b].d(1);E.length=M.length}L&3&&te(w,h[0]),(!N||L&3&&A!==(A="http://localhost:8080/download_apk?version="+h[0]))&&c(V,"href",A);const P={};L&1028&&(P.$$scope={dirty:L,ctx:h}),T.$set(P)},i(h){N||(F(T.$$.fragment,h),N=!0)},o(h){K(T.$$.fragment,h),N=!1},d(h){h&&u(s),h&&u(e),ke(E,h),n[6](null),De(T),j=!1,xe(U)}}}function Oe(n,s,e){let t,{versions:d=[]}=s,{selected:l=void 0}=s;function a(){l=Ve(this),e(0,l),e(1,d)}const o=()=>t.show(),p=()=>t.hide();function y(r){Ie[r?"unshift":"push"](()=>{t=r,e(2,t)})}return n.$$set=r=>{"versions"in r&&e(1,d=r.versions),"selected"in r&&e(0,l=r.selected)},[l,d,t,a,o,p,y]}class Be extends ne{constructor(s){super(),ie(this,s,Oe,Se,ce,{versions:1,selected:0})}}export{Be as component,je as universal};
